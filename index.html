<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mifa ç˜¦èº«åŠ©æ‰‹</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 p-5">
    <div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden p-6">
        <h2 class="text-2xl font-bold text-green-600 mb-4">Mifa ç‡Ÿé¤ŠæŸ¥è©¢å™¨</h2>
        
        <input type="text" id="foodInput" placeholder="è¼¸å…¥é£Ÿç‰©è‹±æ–‡ (ä¾‹å¦‚: Apple)" 
               class="w-full border p-2 rounded mb-4 focus:outline-none focus:ring-2 focus:ring-green-500">
        
        <button onclick="searchFood()" 
                class="w-full bg-green-500 text-white py-2 rounded font-bold hover:bg-green-600 transition">
            æŸ¥è©¢ç‡Ÿé¤Šæˆåˆ†
        </button>

        <div id="result" class="mt-6 hidden">
            <h3 id="foodName" class="text-lg font-bold border-b pb-2 mb-2"></h3>
            <div class="grid grid-cols-2 gap-4 text-sm">
                <div class="bg-orange-50 p-2 rounded">ğŸ”¥ ç†±é‡: <span id="kcal" class="font-bold"></span> kcal</div>
                <div class="bg-blue-50 p-2 rounded">ğŸ¥© è›‹ç™½è³ª: <span id="protein" class="font-bold"></span> g</div>
                <div class="bg-yellow-50 p-2 rounded">ğŸ ç¢³æ°´: <span id="carbs" class="font-bold"></span> g</div>
                <div class="bg-red-50 p-2 rounded">ğŸ¥‘ è„‚è‚ª: <span id="fat" class="font-bold"></span> g</div>
            </div>
        </div>
    </div>

    <script>
        const APP_ID = '3b185717';
        const APP_KEY = '023d04b5d811e3b080c6e899752092b8';

        async function searchFood() {
            const food = document.getElementById('foodInput').value;
            if(!food) return alert('è«‹è¼¸å…¥é£Ÿç‰©åç¨±');

            const url = `https://api.edamam.com/api/food-database/v2/parser?app_id=${APP_ID}&app_key=${APP_KEY}&ingr=${food}&nutrition-type=logging`;

            try {
                const response = await fetch(url);
                const data = await response.json();
                if (data.hints && data.hints.length > 0) {
                    const nutrients = data.hints[0].food.nutrients;
                    
                    document.getElementById('result').classList.remove('hidden');
                    document.getElementById('foodName').innerText = data.hints[0].food.label;
                    document.getElementById('kcal').innerText = Math.round(nutrients.ENERC_KCAL);
                    document.getElementById('protein').innerText = nutrients.PROCNT.toFixed(1);
                    document.getElementById('carbs').innerText = nutrients.CHOCDF.toFixed(1);
                    document.getElementById('fat').innerText = nutrients.FAT.toFixed(1);
                } else {
                    alert('æ‰¾ä¸åˆ°è©²é£Ÿç‰©ï¼Œè©¦è©¦çœ‹åˆ¥çš„å–®å­—ï¼');
                }
            } catch (error) {
                console.error(error);
                alert('é€£ç·šå‡ºéŒ¯äº†ï¼');
            }
        }
    </script>
</body>
</html>
